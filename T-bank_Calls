{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# üìä –†–∞–∑–≤–µ–¥–æ—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö (EDA) –ø–æ –∑–≤–æ–Ω–∫–∞–º –¢-–ë–∞–Ω–∫–∞\n",
    "\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "import seaborn as sns\n",
    "\n",
    "sns.set(style='whitegrid', palette='muted')\n",
    "plt.rcParams['figure.figsize'] = (10,5)\n",
    "\n",
    "# –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö\n",
    "df = pd.read_csv('sale_tasks_dataset.csv')\n",
    "\n",
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∞–Ω–Ω—ã—Ö\n",
    "display(df.info())\n",
    "display(df.describe(include='all').T)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—Å–∫–æ–≤\n",
    "(df.isna().mean()*100).sort_values(ascending=False).head(10)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## üë§ –ö–ª–∏–µ–Ω—Ç—ã: –≤–æ–∑—Ä–∞—Å—Ç, –ø–æ–ª, —Ä–µ–≥–∏–æ–Ω"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "sns.histplot(df['age'], bins=20, kde=True, color='teal')\n",
    "plt.title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤')\n",
    "plt.xlabel('–í–æ–∑—Ä–∞—Å—Ç, –ª–µ—Ç')\n",
    "plt.ylabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤')\n",
    "plt.show()\n",
    "\n",
    "sns.countplot(x='gender_cd', data=df)\n",
    "plt.title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –ø–æ–ª—É')\n",
    "plt.xlabel('–ü–æ–ª –∫–ª–∏–µ–Ω—Ç–∞')\n",
    "plt.ylabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ')\n",
    "plt.show()\n",
    "\n",
    "sns.countplot(x='region_size', data=df, order=['msk','urban','town','rural'])\n",
    "plt.title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ —Ç–∏–ø—É –Ω–∞—Å–µ–ª—ë–Ω–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞')\n",
    "plt.xlabel('–¢–∏–ø —Ä–µ–≥–∏–æ–Ω–∞')\n",
    "plt.ylabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## üí∞ –î–æ—Ö–æ–¥—ã –∫–ª–∏–µ–Ω—Ç–æ–≤"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "sns.scatterplot(x='confirmed_income', y='predicted_income', data=df, alpha=0.5)\n",
    "plt.title('–ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–π vs –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π –¥–æ—Ö–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞')\n",
    "plt.xlabel('–ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–π –¥–æ—Ö–æ–¥')\n",
    "plt.ylabel('–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π –¥–æ—Ö–æ–¥')\n",
    "plt.show()\n",
    "\n",
    "sns.boxplot(x='region_size', y='confirmed_income', data=df, order=['msk','urban','town','rural'])\n",
    "plt.title('–î–æ—Ö–æ–¥ –ø–æ —Ç–∏–ø—É —Ä–µ–≥–∏–æ–Ω–∞')\n",
    "plt.xlabel('–¢–∏–ø —Ä–µ–≥–∏–æ–Ω–∞')\n",
    "plt.ylabel('–ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–π –¥–æ—Ö–æ–¥')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## ‚òéÔ∏è –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∑–≤–æ–Ω–∫–æ–≤"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "sns.histplot(df['state_talk_time_sec'], bins=50, kde=True, color='orange')\n",
    "plt.title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–≤–æ–Ω–∫–æ–≤')\n",
    "plt.xlabel('–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–≤–æ–Ω–∫–∞ (—Å–µ–∫)')\n",
    "plt.ylabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤–æ–Ω–∫–æ–≤')\n",
    "plt.show()\n",
    "\n",
    "avg_talk = df.groupby('functional_cd')['state_talk_time_sec'].mean().sort_values(ascending=False)\n",
    "avg_talk.plot(kind='bar', color='skyblue')\n",
    "plt.title('–°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–≤–æ–Ω–∫–∞ –ø–æ –ø—Ä–∏—á–∏–Ω–µ (functional_cd)')\n",
    "plt.xlabel('–ü—Ä–∏—á–∏–Ω–∞ –∑–≤–æ–Ω–∫–∞')\n",
    "plt.ylabel('–°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—Å–µ–∫)')\n",
    "plt.show()\n",
    "\n",
    "sns.countplot(y='functional_cd', data=df, order=df['functional_cd'].value_counts().index)\n",
    "plt.title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–≤–æ–Ω–∫–æ–≤ –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º')\n",
    "plt.xlabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤–æ–Ω–∫–æ–≤')\n",
    "plt.ylabel('–ü—Ä–∏—á–∏–Ω–∞ –∑–≤–æ–Ω–∫–∞')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## üßë‚Äçüíº –ü—Ä–æ—Ñ–∏–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "sns.histplot(df['emp_age'], bins=20, kde=True, color='purple')\n",
    "plt.title('–í–æ–∑—Ä–∞—Å—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤')\n",
    "plt.xlabel('–í–æ–∑—Ä–∞—Å—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞')\n",
    "plt.ylabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ')\n",
    "plt.show()\n",
    "\n",
    "sns.scatterplot(x='emp_work_months_cnt', y='state_talk_time_sec', data=df, alpha=0.3)\n",
    "plt.title('–û–ø—ã—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–≤–æ–Ω–∫–æ–≤')\n",
    "plt.xlabel('–°—Ç–∞–∂ (–º–µ—Å.)')\n",
    "plt.ylabel('–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–≤–æ–Ω–∫–∞ (—Å–µ–∫)')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## üîó –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —á–∏—Å–ª–æ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "num_cols = df.select_dtypes(include=np.number)\n",
    "corr = num_cols.corr()\n",
    "sns.heatmap(corr, cmap='coolwarm', annot=False)\n",
    "plt.title('–ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —á–∏—Å–ª–æ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## üìà –ö—Ä–∞—Ç–∫–∏–µ –≤—ã–≤–æ–¥—ã\n",
    "- –í–æ–∑—Ä–∞—Å—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º 30‚Äì45 –ª–µ—Ç.\n",
    "- –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ ‚Äî –∂–∏—Ç–µ–ª–∏ –≥–æ—Ä–æ–¥–æ–≤ –∏ –º–∏–ª–ª–∏–æ–Ω–Ω–∏–∫–æ–≤.\n",
    "- –î–æ—Ö–æ–¥—ã –≤—ã—à–µ –≤ –ú–æ—Å–∫–≤–µ, –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–π –¥–æ—Ö–æ–¥—ã –∫–æ—Ä—Ä–µ–ª–∏—Ä—É—é—Ç.\n",
    "- –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–≤–æ–Ω–∫–∞ –æ–∫–æ–ª–æ 2‚Äì3 –º–∏–Ω—É—Ç; –¥–ª–∏–Ω–Ω–µ–µ –≤—Å–µ–≥–æ –∑–≤–æ–Ω–∫–∏ –ø–æ *Upsell* –∏ *Activation*.\n",
    "- –û–ø—ã—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å–ª–∞–±–æ –∫–æ—Ä—Ä–µ–ª–∏—Ä—É–µ—Ç —Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∑–≤–æ–Ω–∫–æ–≤, –Ω–æ –µ—Å—Ç—å –ª—ë–≥–∫–∏–π –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥."
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "name": "python",
   "version": "3.x"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
